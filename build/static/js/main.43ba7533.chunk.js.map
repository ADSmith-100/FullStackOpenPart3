{"version":3,"sources":["Services/Persons.js","Components/AddForm.js","Components/Filter.js","Components/Person.js","Components/PersonList.js","Components/NotificationER.js","Components/NotificationOK.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","AddForm","props","onSubmit","addPerson","value","newName","onChange","handlePersonChange","newNum","handleNumChange","type","Filter","searchName","handleSearchNameChange","Person","person","name","number","PersonList","filteredData","map","className","onClick","handleRemove","NotificationER","message","NotificationOK","App","useState","persons","setPersons","setNewName","setNewNum","setNewSearchName","errorMessage","setErrorMessage","comfirmMessage","setComfirmMessage","useEffect","personService","initialPersons","filter","toLowerCase","includes","event","target","preventDefault","personObj","personToUpdate","p","find","window","confirm","returnedPerson","setTimeout","catch","error","alert","concat","newPeople","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.43ba7533.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  remove: remove,\n};\n","import React from \"react\";\n\nconst AddForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <fieldset>\n        <legend>Add Entry:</legend>\n        <div>\n          name:{\" \"}\n          <input value={props.newName} onChange={props.handlePersonChange} />\n        </div>\n        <div>\n          number:{\" \"}\n          <input value={props.newNum} onChange={props.handleNumChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </fieldset>\n    </form>\n  );\n};\n\nexport default AddForm;\n","import React from \"react\";\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter by name:{\" \"}\n      <input value={props.searchName} onChange={props.handleSearchNameChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Person = (props) => {\n  return (\n    <li>\n      {props.person.name} {props.person.number}\n    </li>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\nimport \"../App.css\";\n\nconst PersonList = (props) => {\n  return (\n    <>\n      {props.filteredData.map((person) => (\n        <div key={person.id}>\n          <Person person={person} />{\" \"}\n          <button\n            className=\"remove\"\n            onClick={() => props.handleRemove(person.id, person.name)}\n          >\n            Remove\n          </button>\n          <br></br>\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default PersonList;\n\n//  {\n//       \"name\": \"Arto Hellas\",\n//       \"number\": \"040-123456\",\n//       \"id\": 1\n//     },\n//     {\n//       \"name\": \"Ada Lovelace\",\n//       \"number\": \"39-44-5323523\",\n//       \"id\": 2\n//     },\n//     {\n//       \"name\": \"Dan Abramov\",\n//       \"number\": \"12-43-234345\",\n//       \"id\": 3\n//     },\n//     {\n//       \"name\": \"Mary Poppendieck\",\n//       \"number\": \"39-23-6423122\",\n//       \"id\": 4\n//     }\n","import React from \"react\";\n\nconst NotificationER = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{message}</div>;\n};\n\nexport default NotificationER;\n","import React from \"react\";\n\nconst NotificationOK = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"ok\">{message}</div>;\n};\n\nexport default NotificationOK;\n","import React, { useState, useEffect } from \"react\";\nimport personService from \"./Services/Persons\";\nimport \"./App.css\";\nimport AddForm from \"./Components/AddForm\";\nimport Filter from \"./Components/Filter\";\nimport PersonList from \"./Components/PersonList\";\nimport NotificationER from \"./Components/NotificationER\";\nimport NotificationOK from \"./Components/NotificationOK\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [searchName, setNewSearchName] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [comfirmMessage, setComfirmMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleRemove = (id, name) => {\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          const newPeople = persons.filter((p) => p.id !== id);\n          setPersons(newPeople);\n        })\n        .catch((error) => {\n          setErrorMessage(`'${name}' was already removed from server`);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n          setPersons(persons.filter((p) => p.id !== id));\n        });\n    } else {\n      alert(\"operation cancelled\");\n    }\n  };\n\n  const updatePerson = (id) => {\n    const updatedPersonObj = {\n      name: newName,\n      number: newNum,\n    };\n    personService\n      .update(id, updatedPersonObj)\n      .then((returnedPerson) => {\n        setPersons(\n          persons.map((person) => (person.id !== id ? person : returnedPerson))\n        );\n\n        // .then((updatedPerson) => {\n        //   const updatedPList = [...persons];\n        //   updatedPList.splice(id - 1, 1, updatedPerson);\n        //   setPersons(updatedPList);\n\n        setComfirmMessage(`Number for ${newName} has been updated!`);\n        setTimeout(() => {\n          setComfirmMessage(null);\n        }, 4000);\n        setNewName(\"\");\n        setNewNum(\"\");\n      })\n\n      .catch((error) => {\n        setErrorMessage(error.response.data.error);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      });\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObj = {\n      name: newName,\n      number: newNum,\n    };\n    const personToUpdate = persons.filter((p) => p.name === newName);\n\n    if (persons.find((person) => person.name === newName)) {\n      window.confirm(\n        `${newName} already exists in this phonebook! Want to replace the number?`\n      )\n        ? updatePerson(personToUpdate[0].id, newName)\n        : alert(\"action cancelled\");\n    } else {\n      personService\n        .create(personObj)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setComfirmMessage(`${newName} has been added to the phonebook!`);\n          setTimeout(() => {\n            setComfirmMessage(null);\n          }, 4000);\n          setNewName(\"\");\n          setNewNum(\"\");\n        })\n        .catch((error) => {\n          setErrorMessage(error.response.data.error);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const handleSearchNameChange = (event) => {\n    setNewSearchName(event.target.value);\n  };\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value);\n  };\n\n  const filteredData = persons.filter((person) =>\n    person.name.toLowerCase().includes(searchName.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <div>\n        <Filter\n          handleSearchNameChange={handleSearchNameChange}\n          searchName={searchName}\n        />\n      </div>\n      <br></br>\n      {errorMessage !== null ? (\n        <NotificationER message={errorMessage} />\n      ) : (\n        <NotificationOK message={comfirmMessage} />\n      )}\n      <br></br>\n      <div>\n        <AddForm\n          addPerson={addPerson}\n          newName={newName}\n          handlePersonChange={handlePersonChange}\n          newNum={newNum}\n          handleNumChange={handleNumChange}\n        />\n      </div>\n      <h2>Numbers</h2>\n      <div>\n        <PersonList filteredData={filteredData} handleRemove={handleRemove} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}